---
import ProjectCard from '@/components/ProjectCard.astro'
import { Icon } from 'astro-icon/components'

import { getCollection } from 'astro:content'

const projects = await getCollection('projects')
---

<h2 class="section-header">Proyectos</h2>

<section
  aria-label="Mis proyectos personales"
  class="flex flex-col gap-4 mx-auto"
>
  {
    projects.map((project) => {
      const {
        name,
        description,
        descriptionTwo,
        img,
        imgAlt,
        githubLink,
        liveDemoLink,
        extraIcons,
      } = project.data

      return (
        <ProjectCard
          name={name}
          description={description}
          descriptionTwo={descriptionTwo}
          img={`src/assets/${img}`}
          imgAlt={imgAlt}
          githubLink={githubLink}
          liveDemoLink={liveDemoLink}
          extraIcons={extraIcons}
        />
      )
    })
  }
</section>
